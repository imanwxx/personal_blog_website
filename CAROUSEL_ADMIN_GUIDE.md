# 轮播图管理系统使用指南

## 功能概览

轮播图管理系统允许管理员：
- 上传新的轮播图片
- 添加、编辑、删除轮播图
- 自定义轮播图标题和描述
- 实时预览轮播效果

## 访问管理界面

### 方式一：通过首页快捷导航
1. 访问首页
2. 滚动到页面底部的"快捷导航"
3. 点击"管理轮播"按钮

### 方式二：直接访问URL
```
http://your-domain/admin/carousel
```

## 使用前准备

### 1. 确保已登录管理员账户

轮播图管理功能需要管理员权限。确保您已登录并拥有有效的管理员token。

### 2. 首次访问系统
首次访问时，系统会自动创建默认配置，包含3个示例轮播图。

## 功能使用说明

### 添加轮播图

1. 点击"添加轮播图"按钮
2. 填写以下信息：
   - **标题**：轮播图显示的标题文字
   - **描述**：图片的alt描述（用于SEO和无障碍访问）
   - **图片URL**：手动输入图片路径，或上传新图片
3. 点击"保存"按钮

#### 上传新图片

1. 在"或上传新图片"区域，点击"选择图片"
2. 选择要上传的图片文件
3. 等待上传完成（通常几秒钟）
4. 图片URL会自动填充到表单中

**支持的图片格式**：
- JPG / JPEG
- PNG
- WebP（推荐）
- GIF

**图片大小限制**：最大 5MB

**推荐图片尺寸**：
- 宽度：1920px 或以上
- 高度：400px 或以上
- 比例：16:9 或 3:1

### 编辑轮播图

1. 找到要编辑的轮播图
2. 点击"编辑"按钮
3. 修改需要更新的信息
4. 点击"更新"按钮保存更改

### 删除轮播图

1. 找到要删除的轮播图
2. 点击"删除"按钮
3. 确认删除操作

⚠️ **注意**：删除操作不可逆，请谨慎操作。

### 预览轮播图

在编辑或添加轮播图时，如果已填写图片URL，会自动显示图片预览。

## 技术细节

### 图片存储位置

上传的图片存储在：
```
public/images/
```

图片命名规则：`carousel_[时间戳].[扩展名]`

例如：`carousel_1736101234567.jpg`

### 配置文件

轮播图配置存储在：
```
data/carousel-config.json
```

JSON格式示例：
```json
[
  {
    "id": "1",
    "src": "/images/space.svg",
    "alt": "太空探索",
    "title": "探索宇宙的无限可能"
  },
  {
    "id": "2",
    "src": "/images/ai.svg",
    "alt": "人工智能",
    title: "智能时代的未来"
  }
]
```

### API接口

系统提供以下REST API接口：

- `GET /api/carousel` - 获取所有轮播图
- `POST /api/carousel` - 添加轮播图（需认证）
- `PUT /api/carousel` - 更新轮播图（需认证）
- `DELETE /api/carousel?id={id}` - 删除轮播图（需认证）
- `POST /api/carousel/upload` - 上传图片（需认证）

所有需要认证的接口都需要在请求头中携带：
```
Authorization: Bearer {your_admin_token}
```

## 首页轮播效果

轮播图自动播放，具有以下特性：
- 自动轮播：每5秒切换一张
- 手动控制：左右箭头切换
- 指示器：底部圆点指示当前位置
- 平滑过渡：500ms的过渡动画
- 响应式设计：适配各种屏幕尺寸

## 常见问题

### Q: 上传图片后看不到？

A: 请检查：
1. 图片是否成功上传（查看"上传中"提示是否消失）
2. 图片URL是否正确填充到表单中
3. 刷新页面查看效果

### Q: 图片显示不全或变形？

A: 请确保图片尺寸符合推荐比例（16:9或3:1）。如果不符合，图片会被裁剪以适应容器。

### Q: 可以使用外部图片链接吗？

A: 可以。在"图片URL"字段中直接输入外部链接即可。但建议使用本地上传的图片以获得更好的性能和稳定性。

### Q: 删除轮播图后图片文件还在吗？

A: 删除轮播图配置时，图片文件不会被自动删除。如需清理不用的图片文件，请手动从 `public/images/` 目录删除。

### Q: 如何恢复默认配置？

A: 删除 `data/carousel-config.json` 文件，刷新页面即可恢复默认配置。

### Q: 轮播图数量有限制吗？

A: 没有硬性限制，但建议保持在3-6张图片，以提供最佳的用户体验。

## 最佳实践

1. **图片优化**
   - 使用 WebP 格式以获得更好的加载性能
   - 压缩图片大小（建议每张小于500KB）
   - 保持一致的尺寸和风格

2. **标题和描述**
   - 标题要简洁明了（建议不超过20个字符）
   - 描述要准确反映图片内容
   - 使用有吸引力的文案

3. **定期更新**
   - 定期更新轮播图内容以保持新鲜感
   - 根据季节或活动主题更换图片

4. **备份**
   - 定期备份 `data/carousel-config.json` 文件
   - 保存重要的图片文件

## 故障排查

### 界面无法加载

1. 检查管理员token是否有效
2. 查看浏览器控制台是否有错误信息
3. 确认 `/api/carousel` 接口是否可访问

### 上传失败

1. 检查图片格式是否支持
2. 检查图片大小是否超过5MB限制
3. 查看浏览器控制台和服务器日志

### 权限错误

1. 确认已登录管理员账户
2. 检查管理员token是否过期
3. 确认token格式正确：`Bearer {token}`

## 联系支持

如果遇到问题或需要帮助，请通过以下方式联系：
- 查看项目文档
- 提交 Issue 到 GitHub
- 联系技术支持
